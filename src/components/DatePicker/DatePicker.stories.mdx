import { Meta, Story, ArgsTable, Canvas } from "@storybook/addon-docs/blocks";
import moment from "moment";
import DatePicker from "./DatePicker";
import "react-dates/lib/css/_datepicker.css";

<Meta title="Components/Inputs/DatePicker" component={DatePicker} />

# DatePicker

The wrapper of [react-dates](https://github.com/airbnb/react-dates).

For more detail props, please see [it](https://github.com/airbnb/react-dates#singledatepicker).

<ArgsTable of={DatePicker} />

## When the display is strange

Please import css from `react-dates`.

```tsx
import "react-dates/lib/css/_datepicker.css";
```

## Samples

### Basic

<Canvas>
  <Story name="Basic">
    {() => {
      {
        /* MEMO: To be unaffected by "Localize" story. */
      }
      moment.locale("en");
      const [date, setDate] = React.useState(moment());
      const handleChangeDate = (date) => {
        setDate(date);
      };
      return (
        <div style={{ height: "400px" }}>
          <DatePicker date={date} onDateChange={handleChangeDate} />
        </div>
      );
    }}
  </Story>
</Canvas>

### Error

<Canvas>
  <Story name="Error">
    {() => <DatePicker date={moment()} error={true} />}
  </Story>
</Canvas>

### Localize

<Canvas>
  <Story name="Localize">
    {() => {
      moment.locale("ja", {
        weekdaysShort: ["日", "月", "火", "水", "木", "金", "土"],
      });
      const renderMonthText = (day) => day.format("YYYY年M月");
      const displayFormat = () => "YYYY/MM/DD";
      const [date, setDate] = React.useState(moment());
      const handleChangeDate = (date) => {
        setDate(date);
      };
      return (
        <div style={{ height: "400px" }}>
          <DatePicker
            date={date}
            displayFormat={displayFormat}
            renderMonthText={renderMonthText}
            onDateChange={handleChangeDate}
          />
        </div>
      );
    }}
  </Story>
</Canvas>
